---
title: Известные неисправности
---

# Известные неисправности, Errata

import CanIUse from '@site/src/components/CanIUse';
import errataSupportData from './errata_support.json';

<CanIUse data={errataSupportData.data} legend={errataSupportData.legend} />

## ERRWB72101: Не получается сделать factoryreset кнопкой

**Подверженные устройства**

Контроллеры Wiren Board 7.2.1A, выпущенные в декабре 2021 г

**Описание**

В контроллер не записан образ для factoryreset, тестовая ветка ПО.

**Пути обхода**

Перед обновлением или возвратом заводских настроек, [переключите их на релиз](../howto/create_restore_folder.md).

**Исправление**

Исправлено в новых версиях контроллера.

## ERRWB70001: После очередной перезагрузки контроллер не загружается

**Подверженные устройства**

Wiren Board 7 всех ревизий с загрузчиком версии 1.1.1, выпущенные до 15 июля 2022 г.

**Описание**

Нормально работающий контроллер после очередной перезагрузки по питанию не включается. Светодиод индикации загорается жёлтым примерно на 20 секунд, потом гаснет на несколько секунд, дальше цикл повторяется.

В отладочной консоли написано:

```
U-Boot SPL 2021.10-wb1.1.1-g4c04347f3e (Feb 03 2022 - 14:48:16 +0000)
DRAM:
```

Т.е. нормальная загрузка зависает после строчки DRAM.
Иногда проблема проявляется только если в контроллер вставлена microSD-карта.

**Причины и подробное описание**

Загрузчик неправильно инициализирует оперативную память, не дожидаясь стабилизации PLL перед обращением к микросхемам DRAM.

**Пути обхода**

Если вставлена microSD карта, попробовать вытащить и обновить загрузчик, как написано выше.

**Исправление**

Исправлено в U-Boot версии 2021.10-wb1.1.2.

Обновление портировано в stable wb-2204 и в testing.

Для обновления выполните по очереди три команды:

```
apt update
apt install u-boot-wb7
u-boot-install-wb
```

Рекомендуется обновить загрузчик на всех контроллерах. Проблема может проявиться на них позже.

Если контроллер уже не загружается, то вернуть его к жизни можно записью особого образа на чистую microSD-карту:

* Подготовьте чистую microSD-карту
* Данные на карте потеряются!

[//]: # (TODO add link)
[//]: # (* Скачайте [образ для записи на карту]&#40;https://wirenboard.com/wiki/images/7/74/Wb7-fix-errwb70001-1.4.4-sdcard.img&#41;)

[//]: # (TODO)
[//]: # ()
[//]: # (Для Windows:)

[//]: # (* скачайте программу для записи образов&#40;например, [http://netcologne.dl.sourceforge.net/project/win32diskimager/Archive/Win32DiskImager-0.9.5-install.exe Win32DiskImager]&#41;)

[//]: # (* вставьте microSD-карту в ридер)

[//]: # (* узнайте букву, под которой она появилась &#40;например "F:"&#41;)

[//]: # (* проигнорируйте сообщения о необходимости отформатировать диск перед использованием, если такое появится)

[//]: # (* убедитесь, что другие программы не используют флеш-карту)

[//]: # (* в Win32DiskImager выберите файл образа карты, выберите букву диска и нажмите кнопку ''Write'')

[//]: # ()
[//]: # (Для Linux:)

[//]: # (*вставьте microSD-карту в ридер)

[//]: # (*узнайте название устройства, соответствующего карте. Обычно это /dev/mmcblk0 или /dev/sdX &#40;где X - буква&#41;. В этом может помочь команда <pre>dmesg | tail</pre>)

[//]: # (*:<b> Не перепутайте название устройства! Неправильно указав название устройства, вы навсегда потеряете все данные на вашем компьютере!</b>)

[//]: # (*отмонтируйте разделы карты, которые Linux примонтировал автоматически:)

[//]: # (**если устройство называется /dev/mmcblk0, то разделы называются /dev/mmcblk0p1, /dev/mmcblk0p2 и т.д.)

[//]: # (**если устройство называется /dev/sdb, то разделы называются /dev/sdb1, /dev/sdb2 и т.д.)

[//]: # (*:Пример команды:<pre>umount /dev/mmcblk0p1</pre>)

[//]: # (*запишите образ на карту:<pre>sudo dd if=wb7-fix-errwb70001-1.4.4-sdcard.img of=/dev/SD_DEV_NAME bs=4M</pre>)

[//]: # (, где "SD_DEV_NAME" - название устройства.)

[//]: # ()
[//]: # ()
[//]: # (Вставьте microSD-карту в контроллер. Контроллер должен загрузиться нормально. Подключите отладочную консоль и выполните команду u-boot-install-wb.)

[//]: # (Выньте microSD-карту и перезагрузите устройство командой reboot.)

[//]: # ()
[//]: # (## ERRWB73002: Неработоспособность CAN и CAN-UART в контроллерах ревизии 7.3)

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Wiren Board 7 ревизии 7.3  &#40;партии v7.3A, v7.3A/2, v7.3B/1, v7.3B/1GI &#40;/2&#41; как с 1Gb RAM так и с 2Gb RAM, производились с июня по август 2022 г.&#41;)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Из-за ошибки схемотехники использование CAN/CAN-UART подвергает процессор риску преждевременного выхода из строя.)

[//]: # (CAN и CAN-UART отключены программно очередным обовлением ПО.)

[//]: # ()
[//]: # (Клеммник RS-485-2 на подвержденных устройствах работает в режиме RS-485. Эта ошибка никак не влияет на работу RS-485.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Ошибка в BOM при сборке: используется трансивер CAN с логикой 5В, вместо нужных 3.3В. Это приводит к инжекции тока менее 10мА в GPIO процессора.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Очередное обновление ПО принудительно отключает CAN.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправлено в аппаратной ревизии 7.3.1 &#40;с августа 2022г.&#41;. При использовании CAN устройства ревизии 7.3 подлежат гарантийной замене на более новые ревизии.)

[//]: # ()
[//]: # (## ERRWB73003: Возможная потеря пакетов и низкая скорость Wi-Fi)

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Wiren Board 7 ревизии 7.3 из партий: <br>)

[//]: # (-  v7.3B/1, v7.3B/1GI, v7.3B/1GI2, v7.3B/1GIS &#40;с 1Gb RAM, industrial temp grade, производившихся в июле 2022 г.&#41; <br>)

[//]: # (-  v7.3B/2GC, v7.3B/2GC/2, v7.3B/2GC/3 &#40;с 2Gb RAM, commercial temp grade, производившихся в июле 2022 г.&#41; <br>)

[//]: # (-  v7.3B/2GI, v7.3B/2GI/3 &#40;с 2Gb RAM, industrial temp grade, производившихся в июле 2022 г.&#41;)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Из-за ошибки в комплектации возможна неустойчивая работа модуля Wi-Fi.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (В цепь питания радиомодуля Wi-Fi ошибочно установлен транзистор с большим сопротивлением канала, на котором падает слишком большое напряжение. Из-за пониженного напряжения питания модуля Wi-Fi могут наблюдаться потери пакетов и сильное падение скорости передачи.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Замена по гарантии.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправлено в партиях v7.3Bxx'''T''' &#40;с литерой T на конце&#41;, а также во всех партиях в аппаратной ревизии 7.3.1 &#40;с августа 2022г.&#41;.)

[//]: # ()
[//]: # (## ERRWB73004: Не работает обновление через разъём Debug Network)

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Wiren Board 7 ревизий 7.3, 7.3.1.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Из-за ошибки в схемотехнике не детектируется отключение кабеля USB от порта Debug Network, что делает невозможным обновление через разъём Debug Network. Кроме того, при подключении к разъёмам Debug Console и Debug Network при наличии внешнего питания контроллера возможно появление нежелательного тока из контроллера в USB-порт компьютера по линии питания &#40;+5 В&#41;.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Между шиной питания портов Debug Console и Debug Network и внутренней шиной 5В контроллера установлены ключи, которые при подключении к портам открываются, обеспечивая подачу питания от USB-порта в контроллер. При отключении разъёма ключи не закрываются, на USB-разъёме остаётся питание 5 В. Это не позволяет детектировать отключение кабеля от порта Debug Network, из-за чего не работает процедура обновления через разъём Debug Network.)

[//]: # (Кроме того, ключ проводит ток в обе стороны, поэтому если к контроллеру подключено внешнее питание и контроллер подключен к компьютеру через порты Debug Console или Debug Network, возможно появление нежелательного тока из контроллера в USB-порт компьютера по линии питания &#40;+5 В&#41;.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Использовать другие способы обновления контроллера &#40;с помощью USB-флешки или карты Micro-SD&#41;.)

[//]: # (При использовании Debug Console отключать внешнее питание контроллера.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправлено начиная с ревизии 7.3.2.)

[//]: # ()
[//]: # (## ERRWB73005: Проблема с установкой дополнительных модулей расширения)

[//]: # ({{Anchor|ERRWB73005}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Wiren Board 7 ревизий 7.3, 7.3.1.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Из-за ошибки в механике возможны проблемы при установке дополнительных модулей расширения в разъёмы MOD2 и MOD3.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Из-за увеличенных габаритных размеров радиаторов в форме логотипа компании, в некоторых случаях невозможно установить дополнительные модули расширения в разъёмы MOD2 и MOD3.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Нужно немного сдвинуть радиатор:)

[//]: # (# Ослабить винты радиатора.)

[//]: # (# Подвинуть радиатор.)

[//]: # (# Установить модуль расширения.)

[//]: # (# Снова затянуть винты.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправлено в партиях ревизии 7.3.1, выпущенных после 21.09.2022.)

[//]: # ()
[//]: # (## ERRWB73006: Проблема с "вечной" перезагрузкой контроллера)

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Единичные экземпляры Wiren Board 7.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (На некоторых устройствах может происходить циклическая перезагрузка:)

[//]: # (# Cветодиодный индикатор постоянно горит оранжевым.)

[//]: # (# Раз в 10...15 секунд индикатор моргает.)

[//]: # ()
[//]: # (В debug консоли успевают появиться данные только о первых секундах загрузки.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Брак компонента. Процессор не успевает сбросить watchdog.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Сделать [[Wiren_Board_7_Firmware_Update |  Factory Reset]] последним .fit файлом.)

[//]: # (Или выполните по очереди три команды:)

[//]: # (<syntaxhighlight lang="bash">)

[//]: # (apt update)

[//]: # (apt install u-boot-wb7)

[//]: # (u-boot-install-wb)

[//]: # (</syntaxhighlight>)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправлено в u-boot версии wb1.4.2.)

[//]: # (Обновление портировано в stable wb-2207 и в testing.)

[//]: # ()
[//]: # (## ERRWB73007: Зависание микросхемы питания в процессорном модуле)

[//]: # ({{Anchor|ERRWB73007}})

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Единичные экземпляры Wiren Board 7 с аккумуляторным модулем WBMZ4-BATTERY v4.5 и младше.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Если отключить внешнее питание от контроллера Wiren Board 7 и дать аккумулятору полностью разрядиться — контроллер может не загрузиться при подаче питания. При этом на плате контроллера горит зелёный светодиод LED3 и раз в 20 секунд гаснет на две секунды. Помогает только физическое извлечение модуля WBMZ4-BATTERY или полный разряд аккумулятора.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Если аккумулятор модуля резервного питания сильно разряжен, то при выключении контроллера переключателем или при отключении по низкому разряду, в микросхеме питания происходит конфликт уровней. Это переводит её в неопределённый режим, который поддерживается за счёт паразитной запитки через сигнальные линии и микросхема зависает.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Замена WBMZ4-BATTERY на новый, в котором отключены линии паразитной запитки.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (В устройствах проданных с декабря 2022 года приняты меры по исключению такого режима.)

[//]: # (В аккумуляторных модулях версии старше 4.6 предусмотрено отключение линий паразитной запитки.)

[//]: # ()
[//]: # (## ERRWB73008: Контроллер не стартует при питании от маломощного USB)

[//]: # ({{Anchor|ERRWB73008}})

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Все контроллеры Wiren Board 7.3.x.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (При подключении контроллера к компьютеру через Debug Console &#40;Debug Network&#41; и при недостаточной мощности USB-порта или плохом USB-кабеле, контроллер не стартует и остаётся в этом состоянии, не реагируя на Whatchdog. Даже если после этого подать внешнее питание.)

[//]: # ()
[//]: # (Отключение USB-кабеля от контроллера и подключение внешнего питания, возвращают контроллер в нормальный режим.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Слабое питание вводит PMIC в состояние «плохое питание» и вывести его их этого состояния можно только обесточив.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Два варианта на выбор:)

[//]: # (1. Подключить контроллер хорошим USB-кабелем к USB-порту с достаточной мощностью.)

[//]: # (2. Сперва подключить внешнее питание контроллера, потом подключать USB-кабели и после этого перевести переключатель питания в положение ВКЛ.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Запланировано в следующей ревизии контроллера.)

[//]: # ()
[//]: # (## ERRWB73009: Контроллер не обновляется с USB-флешки, microSD и через Debug Network и не работает factory reset с кнопки)

[//]: # ({{Anchor|ERRWB73009}})

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Контроллеры Wiren Board 7.3.4 с номерами партий 7.3.4I/4 1C/A-1G &#40;не все&#41;, 7.3.4I/5 1C/A-2GI и 7.3.4I/4R 1C/A-1G &#40;произведённые в период 24.04.23 - 01.05.23&#41;.)

[//]: # ()
[//]: # (Также подвержены проблеме контроллеры, которые были обновлены с расширением rootfs образами между 24 апреля и 1 мая 2023 года.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (При попытке обновить контроллер с USB-флешки, microSD, через Debug Network или сделать factory reset, после зажимания кнопки и запуска контроллер издаёт один писк, но после этого ничего не происходит и контроллер загружается в старую версию ОС.)

[//]: # ()
[//]: # (В debug console в момент первого писка после запуска будут такие сообщения:)

[//]: # ()
[//]: # (<syntaxhighlight>)

[//]: # (     Data Size:    54344 Bytes = 53.1 KiB)

[//]: # (     Architecture: ARM)

[//]: # (     Hash algo:    sha1)

[//]: # (     Hash value:   88cb690e62d3e2fbe97df37350c2ee8c8abab757)

[//]: # (## Verifying ... sha1+ )

[//]: # (   Loading part 0 ... OK)

[//]: # (zimage: Bad magic!)

[//]: # (ERROR: Failed to enter update mode!)

[//]: # (ERROR: /mnt/data/.wb-restore/factoryreset.fit missing or corrupt)

[//]: # (Checking if there is a microSD card with update file)

[//]: # (MMC: no card present)

[//]: # (Couldn't find partition mmc 0:1)

[//]: # (</syntaxhighlight>)

[//]: # ()
[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Ошибка в ПО, из-за которой образы для обновления с 24 апреля по 1 мая 2023 года собирались без компонента, нужного для загрузки контроллера в режим обновления.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправляется обновлением ПО командами)

[//]: # ()
[//]: # (<syntaxhighlight lang="console">)

[//]: # (# apt update)

[//]: # (# apt upgrade)

[//]: # (</syntaxhighlight>)

[//]: # ()
[//]: # (Если нет доступа к интернету, нужно скачать [https://fw-releases.wirenboard.com/fit_image/stable/7x/latest.fit последний стабильный FIT] и скопировать его на контроллер по пути <code>/mnt/data/.wb-restore/factoryreset.fit</code>.)

[//]: # ()
[//]: # (## ERRWB73010: Разрастается файл /var/lib/mosquitto/mosquitto.db и не запускается сервис mosquitto)

[//]: # ({{Anchor|ERRWB73010}})

[//]: # ()
[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Все контроллеры Wiren Board 7.)

[//]: # ()
[//]: # ({{Wbincludes:WB6...7: Errata, Mosquitto 1.4 Persistence File}})

[//]: # ()
[//]: # (## ERRWB73011: Ошибка при обновлении Debian Stretch &#40;релизы wb-2207 и старее&#41;)

[//]: # ({{anchor|ERRWB73011}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Контроллеры Wiren Board, выпущенные до мая 2023 года и работающие под управлением ОС Debian 9 «stretch».)

[//]: # ()
[//]: # ({{Wbincludes:WB6...7: Errata, Stretch Archive Repo}})

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (На всех контроллерах Wiren Board, выпущенных после 1 мая 2023, установлена прошивка с ОС Debian 11 «bullseye», в которой этой проблемы нет.)

[//]: # ()
[//]: # (## ERRWB73012: На некоторых контроллерах не определяется вставленная MicroSD-карта)

[//]: # ({{Anchor|ERRWB73012}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Некоторые контроллеры Wiren Board ревизий v7.3.4, v7.4.1.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Если вставить MicroSD-карту в работающий контроллер, она не определяется. Если, когда вставляем карту, задержать её в крайнем утопленном положении на секунду и более, то карта определяется.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Часть устанавливаемых разъёмов MicroSD-карт имеют недостаточно хороший контакт, позволяющий определять наличие карты в разъёме, в результате чего вставленная в разъём карта не всегда обнаруживается контроллером.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Обновить программное обеспечение контроллера:)

[//]: # (* для релиза wb-2307 и новее выполнить команду <code>apt update; apt upgrade</code>;)

[//]: # (* для более старых релизов — обновить релиз.)

[//]: # (  Если по каким-то причинам это невозможно, то в случае, когда вставленная карта не обнаруживается, достать карту и вставить снова, при этом нужно задержать карту в крайнем утопленном положении на 1 секунду, а затем отпустить.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (На всех контроллерах Wiren Board, выпущенных после 20 сентября 2023 года, наличие вставленной карты определяется без использования специального контакта разъёма. Кроме того, запланирована замена разъёма MicroSD-карты начиная с ревизии v7.4.3.)

[//]: # ()
[//]: # (## ERRWB73013: Контроллеры не обновляются FIT-файлами с ошибкой в логе «no proper DTB found»)

[//]: # ({{Anchor|ERRWB73013}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Все контроллеры Wiren Board 7.2 и 7.3, на которых установлен релиз wb-2304 или более старые.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Попытка обновить контроллер FIT-файлом &#40;stable или testing&#41;, выпущенным в диапазоне дат с 13.11.2023 года по 18.03.2024, завершается ошибкой <code>fw_has_proper_dtb: command not found</code> и <code>Firmware is not compatible with this device, no proper DTB found.</code>)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Проблема связана с тем что в указанном диапазоне дат выпускались FIT-файлы, которые были в состоянии запускаться только на контроллера с релизом wb-2307 и более поздними. Находящийся внутри FIT-файлов сценарий обновления ожидал наличия функции <code>fw_has_proper_dtb</code> в файле <code>wb-run-update</code> на самом контроллере &#40;при обновлении через web-интерфейс&#41; и в хранящемся на контроллере файле factoryreset.fit &#40;при обновлении или сбросе с перезагрузкой&#41;. Начиная с 19.03.2024 выпускаемые FIT-файлы не имеют этой проблемы &#40;код функции <code>fw_has_proper_dtb</code> интегрирован в сценарий обновления внутри FIT-файла&#41;.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Обновление контроллера [https://wirenboard.com/wiki/Wiren_Board_7_Firmware_Update#Обновление_в_консоли_через_apt через apt], либо использование FIT-файлов, выпущенных с 19.03.2024 и далее.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Использовать для обновления fit-файлы [https://fw-releases.wirenboard.com/?prefix=fit_image/stable/7x/ stable] или [https://fw-releases.wirenboard.com/?prefix=fit_image/testing/7x/ testing], выпущенные начиная с 19.03.2024, например, [https://fw-releases.wirenboard.com/fit_image/stable/7x/latest.fit последний стабильный FIT] или [https://fw-releases.wirenboard.com/fit_image/testing/7x/latest.fit последний тестовый FIT])

[//]: # ()
[//]: # (## ERRWB74001: Некоторые контроллеры не включаются сразу)

[//]: # ({{Anchor|ERRWB74001}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Единичные экземпляры контроллеров Wiren Board ревизий v7.4.1, v7.4.2, v7.4.3 &#40;до партии v7.4.3A включительно&#41;.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (При попытке включить контроллер примерно раз в секунду загорается и тут же гаснет зелёный светодиод статуса &#40;при питании от USB Debug Console - раз в 5 секунд&#41;. В консоли присутствуют только сообщения от Wiren Board Embedded Controller &#40;WBEC&#41;.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Для обеспечения возможности обновления программного обеспечения WBEC вход сброса последнего подключен к одному из портов процессора A40i. Особенности внутреннего устройства A40i приводят к тому, что некоторые экземпляры процессоров  при подаче питания формируют на этом выходе короткий импульс, который приводит к перезапуску WBEC. Последний не успевает определить, что A40i находится в рабочем режиме, и выключает питание, после чего подаёт его заново. Процесс циклически повторяется. Через некоторое количество циклов возможно успешное включение.)

[//]: # ()
[//]: # (Данная проблема конкретных экземпляров обнаруживается и устраняется на производстве; появление контроллера с такой проблемой у конечного пользователя маловероятно.)

[//]: # (Проблема успешно решается обновлением программного обеспечения WBEC.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Обновить программное обеспечение WBEC:)

[//]: # (* для релиза wb-2310 и новее выполнить команду <code>apt update; apt upgrade</code>;)

[//]: # (* для более старых релизов — обновить релиз;)

[//]: # (* после чего выполнить команду <code>wb-ec-firmware-update</code>)

[//]: # ()
[//]: # (Если контроллер уже находится в описанном состоянии, то есть, не запускается, нужно выполнить следующие действия:)

[//]: # (* подождать несколько минут; контроллер может включиться;)

[//]: # (* если контроллер не включился, снять верхнюю крышку корпуса контроллера и длинным тонким предметом нажать на кнопку Watchdog OFF &#40;на основной плате слева за разъёмом USB&#41;, подержать пару секунд и отпустить, контроллер запустится. После этого желательно обновить программное обеспечение WBEC, как описано выше.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (На всех контроллерах Wiren Board, выпущенных после 24 октября 2023 года, установлено обновлённое программное обеспечение WBEC.)

[//]: # ()
[//]: # (## ERRWB74002: При переключении портов W1 и W2 в дискретный режим перестаёт работать RS-485 )

[//]: # ({{Anchor|ERRWB74002}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Контроллеры Wiren Board 7.4 с прошивкой wb-2310, ревизии: 7.4.1, 7.4.2, 7.4.3 до партии v7.4.3A включительно.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Если в настройках контроллера у портов W1 и W2 включить дискретный режим — отключается вся периферия, в том числе и порты RS-485 и WBIO.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (В отличие от контроллеров Wiren Board ревизий 7.2...7.3 новая ревизия 7.4 содержит схему управления питание периферии.)

[//]: # ()
[//]: # (Из-за ошибки в ПО контроллера, при переключении портов W1 и W2 в режим дискретного входа пропадает сигнал на включение периферии ON_PERIPH.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (Не использовать дискретный режим для входов W1 и W2.)

[//]: # ()
[//]: # (Обновить прошивку контроллера.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ()
[//]: # (Исправлено в wb-hwconf-manager 1.58.4, доступно в testing и в wb-2310. Обновите прошивку контроллера любым способом.)

[//]: # ()
[//]: # (## ERRWB74003: Ложные срабатывания кнопки включения)

[//]: # ({{Anchor|ERRWB74003}})

[//]: # (**Подверженные устройства**)

[//]: # ()
[//]: # (Контроллеры Wiren Board 7.4.2, 7.4.3А/1/512М, 7.4.3А/2/512М, 7.4.3А/3/512М.)

[//]: # ()
[//]: # (**Описание**)

[//]: # ()
[//]: # (Тактовая кнопка включения/выключения практически всегда срабатывает при закрытии или открытии верхней крышки. Это касается всех 7.4.2 и 7.4.3.)

[//]: # ()
[//]: # (На подверженных устройствах плата модема или плата с кнопкой не закреплены в вертикальной плоскости. Эта свобода может приводить к незапланированным срабатываниям кнопки при других механических воздействиях на корпус контроллера Wiren Board.)

[//]: # ()
[//]: # (**Причины и подробное описание**)

[//]: # ()
[//]: # (Тактовая кнопка с относительно длинным штоком, как оказалось, прекрасно срабатывает не только на вертикальные нажатия, но и на боковые.  В купе с отсутствием вертикальной фиксации она становится очень чувствительна к взаимному расположению платы и крышки.)

[//]: # ()
[//]: # (**Пути обхода**)

[//]: # ()
[//]: # (* Визуально осмотреть и по возможности устранить механическое воздействие которое вызывает ложное нажатие.)

[//]: # (* Обновить прошивку Wiren Board Embedded Controller.)

[//]: # ()
[//]: # (**Исправление**)

[//]: # ({{SupportedSinceRelease)

[//]: # (| release = wb-2401)

[//]: # (|content=)

[//]: # (В новой прошивке Wiren Board Embedded Controller увеличена задержка для короткого нажатия до 500 мс, что должно устранить случайное срабатывание. Обновите прошивку по [[Wiren_Board_Embedded_Controller#ec-update-fw|инструкции]].)

[//]: # (}})

[//]: # ()
[//]: # (В будущих ревизиях изменили конструкцию кнопки включения.)
