---
sidebar_position: 1
description: Мощный универсальный контроллер для любых задач
---
import Gallery from '@site/src/components/Gallery';
import Safety from '@site/docs/_partials/safety.md';
import DebugNetworkConnection from '@site/docs/_partials/debug_network_connection.md';
import DebugNetworkConnectionHowto from '@site/docs/_partials/debug_network_connection_howto.md';

# Wiren Board 7


<Gallery items={[
['wb7.4_side.png', 'Контроллер Wiren Board rev. 7.4.1'],
['wb7.4.3_side.png', 'Контроллер Wiren Board rev. 7.4.3, индикатор совмещён с кнопкой'],
['wb7.4_system_level.png', 'Логическая блок-схема контроллера'],
['svg-dashboard.png', 'Пример графического SVG-дашборда'],
]}
/>

[Купить в интернет магазине](https://wirenboard.com/ru/product/wiren-board-7/)

Эта статья описывает контроллер Wiren Board 7.4. Описание предыдущих ревизий — Wiren Board 7.2...7.3.


## Отличия от предыдущей версии
Программно контроллеры [Wiren Board 7.2...7.3](https://wirenboard.com/ru/product/wiren-board-7/) и Wiren Board 7.4 ничем не отличаются — та же операционная система Debian Linux 11 с тем же набором ПО.

Основные отличия в аппаратной части:

* добавили контроллер управления питанием — теперь вы можете корректно завершить работу контроллера кнопкой или создать будильники и отправить контроллер в сон;

* заменили переключатель включения на кнопку;

* вместо дискретного входа/выхода D1 теперь снова универсальный A4 с возможностью измерения напряжения;

* в базовой комплектации больше нет пассивного PoE. Зато теперь есть встраиваемые модули Passive PoE и IEEE 802.3at, которые позволяют питать контроллер через порт Ethernet 1;

* при питании контроллера от напряжения больше 29 В через Passive PoE или клеммник, выходы Vout отключаются автоматически для защиты подключённых устройств;

* при установленном модуле резервного питания WBMZ контроллер можно выключить командой *poweroff* — это полезно, когда вы хотите корректно завершить работу контроллера при низком уровне заряда. Без установленного модуля команда *poweroff* просто перезагрузит контроллер — это защита от случайного выключения удалённого контроллера;

* разъёмы Ethernet установлены защёлками вверх — теперь кабель удобнее отключать и лучше видна индикация работы сетевого подключения;

* если вы работаете напрямую с GPIO контроллера в обход драйвера wb-mqtt-gpio — вам будет полезна [новая таблица GPIO](http://localhost).

Остальные интерфейсы остались без изменений, что позволяет без проблем использовать Wiren Board 7.4 в старых проектах под Wiren Board 7.

## Меры безопасности

<Safety />

Не допускается подключение контроллера в базовой конфигурации к компьютерной сети, имеющей не обеспеченный средствами межсетевого экранирования выход в Интернет.

## Сводная таблица характеристик

| >                        | Общее                                         |
|--------------------------|-----------------------------------------------|
| Процессор                | ARM Cortex A7 4 ядра 1.2 ГГц (Allwinner A40i) |
| Память оперативная       | DDR3 RAM 1 Гбайт, 2 Гбайт или 512 Мбайт       |
| Память энергонезависимая	 | eMMC 8 Гбайт MLC или 64 Гбайт TLC BiCS5       |
| >                        | **Габариты**                                      |
| Процессор                | ARM Cortex A7 4 ядра 1.2 ГГц (Allwinner A40i) |



[//]: # ({{Wbincludes:Dimensions 6U }})

[//]: # ({{Wbincludes:Weight}} 235 г)

[//]: # (|-)

[//]: # (! colspan="2" |Условия эксплуатации)

[//]: # (|-)

[//]: # (|Температура воздуха)

[//]: # (| Рабочий диапазон температур зависит от исполнения, которое выбирается при заказе:)

[//]: # (* Industrial: от -40 до +75 °С)

[//]: # (* Commercial: от 0 до +75 °С)

[//]: # (  |-)

[//]: # (  |Относительная влажность)

[//]: # (  |До 92%, без конденсации влаги)

[//]: # (  |-)

[//]: # (  |Климатическое исполнение по ГОСТ 15150-69)

[//]: # (  |[[Climatic | O2.1*]])

[//]: # (  |-)

[//]: # (  {{Wbincludes:Warranty}})

[//]: # (  !colspan="2" | **Интерфейсы**)

[//]: # (  |-)

[//]: # (  || RS-485 || **2**)

[//]: # (  |-)

[//]: # (  || CAN || **1** — мультиплексирован с одним из RS-485)

[//]: # (  |-)

[//]: # (  || Слот Micro SD до 60 Мбайт/с|| **1**)

[//]: # (  |-)

[//]: # (  || [[#Каналы W1-W2 | Порты Wx]]: интерфейс 1-Wire/дискретный вход || **2**)

[//]: # (  |-)

[//]: # (  || [[#Универсальные входы/выходы A1-A3 | Порты Ax]]: дискретный/аналоговый вход и выход «открытый коллектор» || **4**)

[//]: # (  |-)

[//]: # (  !colspan="2" | **Коммуникации**)

[//]: # (  |-)

[//]: # (  || Ethernet 10/100 ||  **2**)

[//]: # (  |-)

[//]: # (  || USB Host &#40;USB-A&#41; || **1**)

[//]: # (  |-)

[//]: # (  || Debug Network &#40;USB-C&#41; || USB-сетевая карта для быстрой настройки контроллера. Важно: когда порт подключён к компьютеру — USB 1 отключается)

[//]: # (  |-)

[//]: # (  || Wi-Fi 802.11n ||  **1** AP, client)

[//]: # (  |-)

[//]: # (  || Bluetooth 4.0 || **1**)

[//]: # (  |-)

[//]: # (  || Сотовая связь || 4G&#40;LTE&#41; или без модема  — можно выбрать при заказе)

[//]: # (  |-)

[//]: # (  || SIM-карты || **2** x SIM, одновременно в сети одна)

[//]: # (  |-)

[//]: # ()
[//]: # (!colspan="2" | **Питание**)

[//]: # (|-)

[//]: # (|| Напряжение || 9 - 48 В постоянного тока)

[//]: # (|-)

[//]: # (|| Потребляемая мощность || средняя 3 Вт, до 8 Вт с модемом)

[//]: # (|-)

[//]: # (|| Приоритет входов питания || от входа с бо&#x301;льшим напряжением)

[//]: # (|-)

[//]: # (|| Входы питания ||)

[//]: # (* **2** входа V+ на клеммной колодке.)

[//]: # (* **1** вход PoE 802.3af, 802.3at или Passive на Etnernet 1 с помощью встраиваемого модуля, подробнее в разделе [[#Питание |Питание]].)

[//]: # ()
[//]: # (|-)

[//]: # ()
[//]: # (!colspan="2" | **Выходы для питания внешних устройств**)

[//]: # (|-)

[//]: # (|| Vout || На клеммы подаётся напряжение питания контроллера, но с ограничением тока в 1А, программным отключением и сохранением состояния при перезагрузке контроллера. Если контроллер питается от Passive PoE и напряжение питания контроллера выше 29 В — выход Vout будет автоматически отключен для защиты подключённых устройств.)

[//]: # (|-)

[//]: # (|| 5Vout || 5 В — с ограничением тока и программным отключением)

[//]: # (|-)

[//]: # ()
[//]: # (!colspan="2" | **Модульность**)

[//]: # (|-)

[//]: # (|| Слоты для внутренних модулей расширения || **3** с клеммами, **1** без клемм)

[//]: # (|-)

[//]: # (|| Другие разъемы || Для внешних модулей ввода-вывода WBIO, для модуля резервного питания, для модуля PoE)

[//]: # (|-)

[//]: # ({{Wbincludes:Software}})

[//]: # (!colspan="2" | **Поддерживаемые протоколы, устройства и системы верхнего уровня**)

[//]: # (|-)

[//]: # ({{Wbincludes:Supported Devices Protocols}})

[//]: # (|| Устройства сторонних производителей || [[Supported devices#testing|Таблица поддерживаемых устройств]])

## Первое включение

[//]: # (<iframe src="https://youtu.be/iUCNLI0yU94" />)
[//]: # ({{YouTube)
[//]: # (|link=https://youtu.be/iUCNLI0yU94)
[//]: # (|text= Знакомство с контроллером Wiren Board 7)
[//]: # (|list= PL-yKQAXd5Un_fQfrVVgMt1Em5Qb1f-v6l)


### Сборка и запуск

Контроллер поставляется собранным, прошитым и готовым к работе, но перед его использованием надо выполнить несколько шагов:

1. Прикрутите антенну Wi-Fi к разъёму SMA.

2. Если установлен 4-G модем [WBC2-4G](/docs/components/wbc2_4g.md) — прикрутите его антенну и [установите SIM-карту](/docs/howto/sim_installation.md).

3. Подключите питание контроллера к клеммнику 9-48V или к интерфейсу Ethernet 1, если у вас установлен один из модулей PoE. Варианты подключения и схему смотрите в разделе [Питание](#питание).

При подаче питания контроллер включится автоматически, подождите пару минут, пока загружается ОС Linux. В рабочем режиме индикатор контроллера будет мигать зелёным с частотой один раз в секунду.

Кнопка **ON/OFF** служит для завершения работы и аварийного выключения контроллера:

* Короткое нажатие отправит операционной системе Linux команду poweroff, что приведёт к завершению работы и отключению питания.

* Длинное нажатие принудительно выключает питание контроллера — это полезно, если по каким-то причинам Linux не может завершить работу сам.

С контроллером можно взаимодействовать через встроенный веб-интерфейс или через командную строку. В обоих случаях вам нужно подключить контроллер к компьютеру и узнать его IP-адрес.

### Подключение к компьютеру

В контроллере есть несколько интерфейсов для связи с компьютером: Debug Network, Wi-Fi, Ethernet и Debug Console.

Для первоначальной настройки удобно использовать Debug Network, в повседневной эксплуатации Wi-Fi или Ethernet, а в экстренных случаях [Debug Console](/docs/debug_console.md), которая предоставляет доступ к логам загрузчика и командной строке.

Ниже мы рассмотрим основные моменты, полную информацию по настройке сети читайте в статье [Настройка сети в контроллере Wiren Board](/docs/networks.md).

#### Debug Network

<DebugNetworkConnection />

Как пользоваться:
<DebugNetworkConnectionHowto />

Debug Network — это универсальный разъём и кроме доступа к консоли и веб-интерфейсу, с его помощью можно обновлять прошивку контроллера или удалять все данные и настройки — [подробнее](/docs/debug_network.md).

[//]: # (![Разъём]&#40;@site/static/img/wb7_debug_network.png&#41;)
[//]: # (![Веб-интерфейс контроллера и виртуальный накопитель с инструкцией]&#40;@site/static/img/wb7_debug_network_virtual_lan.png&#41;)

<Gallery items={[
['wb7_debug_network.png', 'Разъём'],
['wb7_debug_network_virtual_lan.png', 'Веб-интерфейс контроллера и виртуальный накопитель с инструкцией'],
]}
/>

#### Wi-Fi

[//]: # ({{Wbincludes:Wi-Fi Connection}})

#### Ethernet

[//]: # ({{Wbincludes:Ethernet Connection}})

### Веб-интерфейс

[//]: # ({{YouTube)

[//]: # (|link=https://youtu.be/3QHtXODfuDY)

[//]: # (|text= Веб-интерфейс контроллера Wiren Board 7)

[//]: # (|list= PL-yKQAXd5Un_fQfrVVgMt1Em5Qb1f-v6l)

[//]: # (}})

В контроллере предустановлен веб-интерфейс, где вы можете настраивать контролер и подключённые к нему устройства, а также писать сценарии автоматизации, настраивать уведомления и создавать интерфейс оператора с помощью графических и текстовых панелей.

Читайте подробнее о веб-интерфейсе в [[Веб-интерфейс_Wiren_Board | документации]] и статье [https://wirenboard.com/ru/pages/wb-software/ Веб-интерфейс контроллеров Wiren Board].

### Командная строка

[//]: # ({{YouTube)

[//]: # (|link=https://youtu.be/VA_XHrY1RVA)

[//]: # (|text= Про командную строку, SSH и Debug Console)

[//]: # (|list= PL-yKQAXd5Un_fQfrVVgMt1Em5Qb1f-v6l)

[//]: # (}})

Контроллер Wiren Board управляется ОС Linux, поэтому все настройки хранятся в файлах. Б*о*льшая часть настроек делается из веб-интерфейса контроллера, но иногда без командной строки не обойтись, например, если надо установить дополнительные программы, или настроить часовой пояс.

Для доступа к командной строке подключитесь к контроллеру по протоколу [[SSH]] или через [[WB_Debug_Console| отладочный порт]].


[//]: # (Логин и пароль {{Wbincludes:Controller SSH Default Login Password|short=true}}.)

### Что дальше

[[Wiren_Board_7.4_Firmware_Update#web-ui|Обновите прошивку контроллера]], чтобы иметь самую свежую версию — проще всего это сделать через веб-интерфейс.

После того, как вы немного познакомились с контроллером, нужно подумать о безопасности:

1. Сменить пароль пользователя root по [[SSH#Логин и пароль| инструкции]].

2. Установить пароль на Wi-Fi — [[Networks | инструкция по настройке сети]].

3. При использовании контроллера на предприятии надо [[Защита_паролем | защитить веб-интерфейс паролем]].

4. Если планируете открывать доступ к контроллеру из интернета, то делайте это через [[Wirenboard6:InstallingOnTheRemoteSite#VPN | VPN]] или [[Tailscale]]. Никогда не назначайте контроллеру белый IP-адрес, вас могут [https://support.wirenboard.com/t/ogranichenie-dostupa/10644 взломать].

Дополнительно:

* Установите верный [[Time |часовой пояс]].

* Для активных пользователей и проектов на стадии стройки и пусконаладки рекомендуем переключить ПО контроллера на [[Обновление_прошивки|Testing релиз]].

* Если вы забыли пароль для входа — можете [[WB6_root_password_recovery|сбросить пароль пользователя root]].

* Если возникли неполадки с контроллером, вы можете провести [[How_to_diagnose|диагностику]].

* Настройте автоматизацию с помощью правил на [[wb-rules]].

Если в процессе экспериментов что-то пошло не так, или вам надо откатить контроллер к заводским настройкам, можете [[Wiren_Board_7.4_Firmware_Update#factory-reset| удалить все данные и вернуть установленное на заводе ПО]].

## Программное обеспечение

### Основная информация

[//]: # ({{Wbincludes:Wiren Board Software Common}})

### Предустановленно

[//]: # ({{Wbincludes:Wiren Board Software Preinstalled}})

[//]: # (* [[Wiren_Board_7.4_Firmware_Update|Обновление прошивки контроллера Wiren Board 7.4]])

### Интеграция со SCADA-системами

[//]: # ({{Wbincludes:Wiren Board SCADA Integration}})

### Поддержка сторонних программ

[//]: # ({{Wbincludes:Wiren Board Third Party Software}})

### Разработка своих решений

[//]: # ({{Wbincludes:Wiren Board Software Dev}})

## Индикация этапов загрузки

В контроллерах Wiren Board есть светодиодный индикатор из светодиодов зеленого и красного цветов. В версиях с отдельным индикатором они включаются поочерёдно, поэтому возможны три варианта свечения: зеленый, красный и оранжевый. В версиях с индикатором встроенным в кнопку доступно только поочерёдное включение зеленого и красного цветов.

Индикатор показывает основные этапы загрузки и его можно использовать для быстрого поиска неисправностей при старте. Для детальной информации о происходящем в контроллере используйте [[WB_Debug_Console| отладочный порт]].

После загрузки операционной системы вы можете [[Control_led_indicator_WB6.7 | управлять индикатором ]] из своего программного обеспечения.

[//]: # ()
[//]: # (<gallery mode="packed" heights="200px" caption="Индикатор контроллера">)

[//]: # (Image: WB7.4 Leds.jpg | Индикатор отдельно )

[//]: # (Image: WB7.4 ButtonLeds.jpg | Кнопка с индикатором)

[//]: # (</gallery>)

[//]: # ({| class="wikitable" style="")

[//]: # (|-)

[//]: # (! style="width: 20%" rowspan="2"| Условия)

[//]: # (!style="width: 15%" colspan="2"| Индикация)

[//]: # (! style="width: 25%" rowspan="2"| Этапы)

[//]: # (! style="width: 45%" rowspan="2"| Сообщения в Debug-UART)

[//]: # (|-)

[//]: # (!style="width: 15%" | Индикатор отдельно)

[//]: # (!style="width: 15%" | Кнопка с индикатором)

[//]: # (|-)

[//]: # (|Включение контроллера)

[//]: # (|Отсутствует)

[//]: # (|Отсутствует)

[//]: # (|Embedded controller производит подготовку к старту контроллера)

[//]: # (|<syntaxhighlight lang="bash">)

[//]: # ([EC]: Wiren Board Embedded Controller)

[//]: # ([EC]: Firmware version: 1.0.0-rc3)

[//]: # ([EC]: Git info: 2dc0fda_feature_main-algorithm)

[//]: # ([EC]: Power on reason: Wiren Board supply on)

[//]: # ([EC]: Now the main processor will be powered on. All next debug messages are from processor.)

[//]: # (</syntaxhighlight>)

[//]: # (|-)

[//]: # (|0.2 секунды после включения.)

[//]: # (|<span style="color:#FF8C00">горит оранжевый</span>)

[//]: # (|<span style="color:#FF0000">горит красный</span>)

[//]: # (|Загрузчик U-boot ждёт команду по debug-uart в течение 3 секунд.)

[//]: # (|<syntaxhighlight lang="bash">Hit any key to stop autoboot:  3</syntaxhighlight>)

[//]: # (|-)

[//]: # (|5 секунд после включения и в USB-разъём **вставлен носитель с файлом обновления**.)

[//]: # (|<span style="color:#FF8C00">мигает оранжевый</span>)

[//]: # (|<span style="color:#FF0000">мигает красный</span>)

[//]: # (|Загрузчик U-boot увидел файл обновления и 3 секунды ждёт подтверждения. Подробнее в статье [[Обновление прошивки]].)

[//]: # (|<syntaxhighlight lang="bash">##############################)

[//]: # (# Detected USB flash drive with update file)

[//]: # (# Filename: wb6_update_FACTORYRESET.fit)

[//]: # (# Press a FW key if you want to update firmware from this file)

[//]: # (# or wait 3 seconds to boot normally.)

[//]: # (##############################</syntaxhighlight>)

[//]: # (|-)

[//]: # (|5 секунд после включения и **USB-разъёмы свободны**.)

[//]: # (|<span style="color:#FF0000">горит красный</span>)

[//]: # (|<span style="color:#FF0000">горит красный</span>)

[//]: # (|Загрузчик U-boot применяет аппаратную конфигурацию контроллера.)

[//]: # (|<syntaxhighlight lang="bash">Applying DT overlay ...</syntaxhighlight>)

[//]: # (|-)

[//]: # (|10 секунд после включения.)

[//]: # (|<span style="color:#FF0000">мигает красный</span>)

[//]: # (|<span style="color:#FF0000">мигает красный</span>)

[//]: # (|Загрузка OC и внутренних сервисов.)

[//]: # (|Множество записей, есть <syntaxhighlight lang="bash">Welcome to Debian GNU/Linux 10 </syntaxhighlight>)

[//]: # (|-)

[//]: # (|60-70 секунд после включения.)

[//]: # (|<span style="color:#008000">мигает зеленый</span>)

[//]: # (|<span style="color:#008000">мигает зеленый</span>)

[//]: # (|ОС загрузилась, контроллер готов к работе.)

[//]: # (|Приглашение для входа в систему <syntaxhighlight lang="bash">wirenboard-<Серийный номер> login: </syntaxhighlight>)

[//]: # (|-)

[//]: # (|})

## Внутренние и внешние модули

[//]: # (<gallery mode="packed" heights="200px">)

[//]: # (Файл:WB-7.4+WBIO.png|Контроллер Wiren Board 7.4 с боковыми модулями)

[//]: # (File:Connecting_Side_Modules.png|Подключение модуля ввода-вывода к контроллеру)

[//]: # (File:OPENTHERM.png|Модуль расширения OpenTherm)

[//]: # (</gallery>)

[//]: # ({{YouTube)

[//]: # (|link=https://youtu.be/GYYqMJsqhuw)

[//]: # (|list= PL-yKQAXd5Un_fQfrVVgMt1Em5Qb1f-v6l)

[//]: # (|text=Подключение и настройка модулей расширения)

[//]: # (}})

[//]: # ({{Wbincludes:Controller Modularity}})

[//]: # ()
[//]: # ([[Wiren Board 6: Extension Modules#poe-mod|**PoE модули**]] — дополнительные модули обеспечивающие питание от PoE.)

## Беспроводные интерфейсы

[//]: # ({{note|note|Начиная с ревизии **7.4.3**, [[WB7_hardware_revisions |выпускаемой с декабря 2023 года]], и версии ПО [[Wb-2401 |wb-2401]] можно использовать Wi-Fi в диапазоне 5 ГГц. Подробнее в [[Networks#%D0%92%D1%8B%D0%B1%D0%BE%D1%80_%D0%B4%D0%B8%D0%B0%D0%BF%D0%B0%D0%B7%D0%BE%D0%BD%D0%B0_Wi-Fi_2.4_%D0%B8%D0%BB%D0%B8_5_%D0%93%D0%93%D1%86 |документации]].}})

[//]: # ()
[//]: # ({{Wbincludes: Controller Wireless interfaces}})

[//]: # ()
[[WBC2-4G |**Модуль сотовой связи**]] — 4G (LTE) или NB-IoT устанавливается в контроллер модулем расширения. Требуется SIM-карта формата nanoSIM.

Модем позволяет отправлять и принимать SMS, подключаться к интернету. Работа с двумя SIM-картами в режиме мультиплексирования. SIM-карты расположены под крышкой контролера.

Антенны Wi-Fi, GSM и радиомодулей подключаются к разъемам SMA. При слабом сигнале рекомендуется использовать выносную антенну и располагать ее вдали от контроллера.

## Проводные интерфейсы

**Два интерфейса Ethernet** поддерживают скорость 10/100 Мбит/с. [[Networks| Инструкция по настройке]].

**Интерфейс USB.** Контроллер оборудован одним портом USB 2.0 (A/F), который работает в режиме USB Host и поддерживает загрузку прошивки контроллера. Управление питанием USB-устройств см. в [[Питание USB-портов|Питание USB-портов]].

[//]: # ({{Wbincludes:Controller Wired interfaces}})

**[[Debug Network]]** — USB-C разъём, через который можно получить доступ к веб-интерфейсу или консоли контроллера, а также обновить прошивку или удалить все данные со сбросом к заводским настройкам.

## Слот MicroSD

[//]: # ([[Image: WB7 MicroSD Slot.jpg |250px|thumb|right| Слот MicroSD в контроллере Wiren Board 7 ]])

В контроллере есть высокоскоростной слот для карт памяти MicroSD, который расположен на левом торце корпуса и поддерживает чтение/запись на скорости до 60 Мбайт/с. Карта памяти вставляется контактами вниз до лёгкого щелчка.

Карту MicroSD удобно использовать для хранения бэкапов, лог-файлов или как расширение основной памяти контроллера.

После установки карта памяти будет доступна в устройстве <code>/dev/mmcblk1</code>, первый раздел которого будет автоматически примонтирован в <code>/mnt/sdcard</code>.

## Универсальные входы/выходы A1-A4

[//]: # ([[Image: WB6.Ax.png |300px|thumb|right| Схема входов/выходов A1-A4 контроллера Wiren Board 7.4 ]])

Входное сопротивление каналов 100 кОм.

Режимы дискретный и аналоговый вход работают одновременно. При работе канала в режиме входа переключатель Ax_OUT должен быть выключен.

Канал в режиме выхода управляется переключателем Ax_OUT: выключатель включён — выход замкнут на GND.

Смотрите также:

* [[Using Wiren Board with pulsed output devices | Подключение устройств с импульсным выходом к входам Ax]].
* [[Supported_devices | Подключение периферийных устройств]].


[//]: # ({| class="wikitable noclear")

[//]: # (|+ Функции универсальных входов/выходов)

[//]: # (|-)

[//]: # (! Функция)

[//]: # (! style="width: 350px"| Описание)

[//]: # (! Параметр / адрес в MQTT)

[//]: # (|-)

[//]: # (| Выход «[[OpenCollector_connecting |открытый коллектор]]»)

[//]: # (| Ключ с током 1 А и на напряжение 30 В, замыкающий выход на землю)

[//]: # (| I/O → Ax_OUT<br />wb-gpio/Ax_OUT)

[//]: # (|-)

[//]: # (| [[DI |Дискретный вход]])

[//]: # (| Срабатывает при напряжении на клемме больше 3 В &#40;логическая единица&#41;, меньше 1.5 В — логический ноль. Для ревизии 7.4.1: 2.5 вольта - логический ноль, 3.1 вольта - логическая единица.)

[//]: # (| I/O →Ax_IN<br />wb-gpio/Ax_IN)

[//]: # (|-)

[//]: # (| [[ADC |Аналоговый вход]])

[//]: # (|)

[//]: # (Диапазон измерений 0…36.3 В. Для ревизии 7.4.1: 0…32.5 В.)

[//]: # ()
[//]: # (Погрешность +/- 1%)

[//]: # (| ADCs → Ax<br />wb-adc/Ax)

[//]: # (|})

## Каналы W1-W2

[//]: # ([[Image: WirenBoard+1-Wire.png |250px|thumb|right| Подключение датчика [[1-Wire]] к каналу **W1** контроллера Wiren Board]])

[//]: # ({{Wbincludes:Controller W1-W2}})

### Режим дискретного входа

В режиме дискретного входа срабатывание происходит **при замыкании на землю** (GND), в отличие от каналов A1-A4.

## Выход питания +5Vout

[//]: # ({{Wbincludes:Controller +5Vout}})

## Выход питания Vout

[//]: # ([[Image:Wb7 protection Vout.png|thumb|250px|Схема защиты выходов Vout]])

В контроллере есть два выхода Vout на которые подаётся напряжение питания контроллера, но с ограничением тока до 1 А суммарно, программным отключением и **сохранением** состояния при **перезагрузке** или **отключении переключателем** контроллера.

На клеммы Vout подаётся напряжение питания контроллера, поэтому для защиты подключённых к клеммам устройств, питание на Vout отключается, если питание контроллера больше 29 В.

При питании контроллера от аккумулятора на выход подается напряжение +11 В.

Выходы можно отключить программно, контрол в веб-интерфейсе: устройство **Relays & FETs** → контрол **V_OUT**.

Защита построена на полифьюзе 1А, который восстанавливается через некоторое время после отключения нагрузки.

## Терминаторы линий RS-485

[//]: # ({{Wbincludes:Controller RS-485 terminators}})

## Клеммники

Часть клеммников может выполнять более одной функции.

[//]: # (<gallery mode="packed" heights="350px">)

[//]: # (Image: WB7.4 Terminal blocks.png | Порты и интерфейсы)

[//]: # (Image: WB7.4 Inputs.png | Схема защиты входов и выходов)

[//]: # (</gallery>)

[//]: # ()
[//]: # ({|  border="1" width="700" class="wikitable" style="text-align:center")

[//]: # (!Подпись !! Max. V, I !! Доп. защита !! Состояние по умолчанию !!**Функции**)

[//]: # (|-)

[//]: # (| **Vin**  )

[//]: # (|)

[//]: # (52V)

[//]: # (| От переполюсовки || ||Входное напряжение)

[//]: # (|-)

[//]: # (| **GND** || || || ||«Земля», минус блока питания. Все GND общие.)

[//]: # (|-)

[//]: # (| **O1-O3** || || || || |Входы/выходы модулей расширения)

[//]: # (|-)

[//]: # ()
[//]: # (|-)

[//]: # (| **A1-A4** || 30 В, 1 А || От превышения тока, импульсных перенапряжений ||  High Z || [[OpenCollector_connecting|Выходы «открытый коллектор»]]<br>[[DI | Дискретные входы]], [[ADC|ADC]])

[//]: # (|-)

[//]: # (| **GND** || || || || Для удобства подключения внешних датчиков)

[//]: # (|-)

[//]: # (| **W1-W2** || 40 В || || 5 В || [[1-Wire|1-Wire]], GPIO)

[//]: # (|-)

[//]: # (| **5V out** || 5 В, 0.5 А || От превышения тока || 5 В || Выход 5 В. Программное включение-выключение)

[//]: # (|-)

[//]: # (| **A** ||  40 В || || 0 В || rowspan="2"|Порт [[RS-485|RS-485]]  &#40;/dev/RS-485-1&#41;)

[//]: # (|-)

[//]: # (| **B** ||  40 В || || +5 В)

[//]: # (|-)

[//]: # (|-)

[//]: # (| **L** || 40 В || || 0 В ||  rowspan="2"|Порт CAN или [[RS-485|RS-485]]  &#40;/dev/RS-485-2&#41;.)

[//]: # (Подключение RS-485: A - к клемме **A|L**, B - к клемме **B|H**.)

[//]: # (|-)

[//]: # (| **H** ||  40 В || || +5 В)

[//]: # (|-)

[//]: # (| **Vout*** || 1 А || От превышения тока, импульсных перенапряжений, от превышения напряжения больше 29 вольт.  ||  || Выход питания. Входное напряжение, программное отключение)

[//]: # (|-)

[//]: # (|})

[//]: # ()
[//]: # ({| border="1" class="wikitable" style="text-align:left")

[//]: # ({{Wbincludes:Klemmy}})

[//]: # (|Тип клемм || Винтовые, разъемные, шаг 3.5 мм)

[//]: # (|})

[//]: # ({{Wbincludes:Mount Wires}})

## Другие интерфейсы

[[Buzzer | Зуммер (звуковой излучатель)]] — издает звуковой сигнал, частота настраивается.

## Питание

Питание подключается к контроллеру через клеммы V+ с общей землёй GND. Можно подключать один или два разных блока питания с напряжением от 9 до 48 В постоянного тока.

Опционально можно добавить питание через витую пару, подключённую к порту Ethernet 1:

* PoE IEEE 802.3af, 802.3at с помощью модуля [[WBP-ACTIVE-POE| WBP-ACTIVE-POE]].
* Passive PoE от 42 В через WBP-ACTIVE-POE, меньше — через модуль [[WBP-PASSIVE-POE]].

Можно подключить разные источники к разным входам, в этом случае питание будет идти от источника с бо&#x301;льшим напряжением.

После установки контроллера на DIN-рейку и подачи питания, контроллер сам включится и начнется загрузка операционной системы. По окончании загрузки индикатор контроллера замигает зеленым.

**Для резервного питания** можно установить внутрь контроллера модули [[WBMZ4-BATTERY_Backup_Power_Module | WBMZ4-BATTERY]] с Li-Pol аккумулятором или [[WBMZ4-SUPERCAP_Backup_Power_Module | WBMZ4-SUPERCAP]] с ионисторами (версия WBMZ4-SUPERCAP должна быть не ниже 4.2). При снижении напряжения Vin ниже 11 В, контроллер и модули, подключённые к выходу Vout, питаются от 11 В, которые выдаёт модуль резервного питания.[[Backup_power_for_Wiren_Board_devices | Другие способы резервного питания]].

Контроллер может питаться от портов USB-C, это удобно для сброса или настройки. Питание от этих портов маломощное, поэтому отключите от контроллера все устройства и боковые модули WBIO.


[//]: # (<gallery mode="traditional" widths ="350px" heights="333px">)

[//]: # (Image: WB7.4_Power.png | Блок-схема питания Wiren Board 7.4.1)

[//]: # (Image: WB7.4_+_HDR.png | Питание контроллера Wiren Board 7.4.1)

[//]: # (</gallery>)

## Wiren Board Embedded Controller

[//]: # ({{Anchor|ec}})

В контроллере есть встроенный микроконтроллер, который выполняет функции: контроллера питания, часов реального времени, измерения напряжений А1-А4, измерения температуры платы, будильника и сторожевого таймера.

Подробнее смотрите на странице [[Wiren Board Embedded Controller]].

### Сторожевой таймер

Сторожевой таймер перезагружает контроллер при зависании ПО. Перед редактированием конфигурации сервисов, указанных в файле конфигурации watchdog — желательно остановить его выполнение. После внесения и проверки изменений снова запустите watchdog.

Если при редактировании конфигурации была допущена ошибка и watchdog вызывает циклическую перезагрузку — войдите в систему контроллера по SSH и остановите выполнение watchdog. На это у вас есть 60 секунд после запуска операционной системы.

Подробнее про работу сторожевого таймера смотрите на странице [[Watchdog|Watchdog в контроллерах Wiren Board]].

## Поддерживаемые устройства

[[Периферийные устройства с интерфейсом RS-485 серии WB-xxxx | Устройства нашего производства с интерфейсом RS-485]]

[[Supported devices|Таблица поддерживаемых устройств]]

[[Using Wiren Board with peripheral devices|Подключение периферийных устройств]]

## Примеры сетевых настроек контроллера на удалённом объекте

* [[Wiren Board Cloud| Wiren Board Cloud — сервис удалённого администрирования контроллеров Wiren Board]]

* [[Tailscale | Tailscale — удалённый доступ к контроллеру Wiren Board без своего VPN-сервера]]

* [[Wirenboard6:InstallingOnTheRemoteSite|Шпаргалка: сетевые настройки контроллера на удалённом объекте]]

## Настройка времени и часового пояса

[[Time|Настройка даты и времени]]

## Известные неисправности

[[WB_7:_Errata | Список известных неисправностей (Errata) Wiren Board 7]]

<!--[[Wiren Board 7.4: Errata | Список известных неисправностей (Errata) Wiren Board 7.4]]-->

## Ревизии устройства

Номер партии (Batch №) указан на наклейке, на боковой поверхности корпуса, а также на печатной плате. Номер партии контроллера складывается из номеров партий базовой и процессорной плат.

[[WB7_hardware_revisions | Аппаратные ревизии контроллера]] — описание изменений в плате контроллера.

## Прочее

[[Wiren Board 7.4: Peripherals]] — для низкоуровневой работы с GPIO и другой периферией контроллера из собственного ПО.

[[Работа с GPIO|Работа с GPIO]] — как работать с GPIO напрямую.

[[Wiren_Board_7.4_Firmware_Update|Обновление прошивки и сброс к заводским настройкам]].

[[WB6_root_password_recovery| Восстановление пароля пользователя root]].

## Изображения и чертежи устройства


[//]: # ({{Wbincludes:CDR lib}})


[//]: # (**SVG, кнопка и индикатор отдельно:** [[File:Wiren_Board-7.4.svg.zip]])


[//]: # (**SVG, кнопка с индикатором:** [[File:WB7.4_newbtn.svg.zip]])


[//]: # (**Autocad 2013 DXF:** [[File:Wiren_Board-7.4.dxf.zip]])

[//]: # ()
[//]: # (**Autocad PDF:** [[File:Wiren_Board-7.4.dxf.pdf]])

[//]: # ()
[//]: # ({{Wbincludes: AutoCAD_base}})

[//]: # ()
[//]: # (**Блоки питания, автоматы, УЗО и т.п:**:  [[Media:MW-HDR-30-24.dxf.zip|MW-HDR-30-24.dxf.zip]], [[Media:MW-HDR-30-24.pdf|MW-HDR-30-24.pdf]], [[Media:Other-units.zip|Other-units.zip]])

[//]: # ()
[//]: # (<gallery mode="packed" heights="250px">)

[//]: # (Image: PCB WB7.4 pcb.png | Плата Wiren Board 7.4)

[//]: # (Image: DIN 6U.png | Габаритные размеры)

[//]: # (</gallery>)
